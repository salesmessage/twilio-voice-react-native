{"version":3,"names":["_eventemitter","require","_constants","_InvalidArgumentError","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","TypeError","Number","CallMessage","EventEmitter","constructor","content","contentType","messageType","voiceEventSid","InvalidArgumentError","ContentType","MessageType","_content","_contentType","_messageType","_voiceEventSid","getContent","getContentType","getMessageType","getSid","exports","_CallMessage2","Constants","UserDefinedMessage","ApplicationJson"],"sources":["CallMessage.ts"],"sourcesContent":["/**\n * Copyright Â© 2022 Twilio, Inc. All rights reserved. Licensed under the Twilio\n * license.\n *\n * See LICENSE in the project root for license information.\n */\n\nimport { EventEmitter } from 'eventemitter3';\n// NOTE(kchoy): VBLOCKS-2673 Remove after typescript 5.x upgrade\n//@ts-ignore\nimport { Constants } from './constants';\nimport type { NativeCallMessageInfo } from './type/CallMessage';\nimport { InvalidArgumentError } from './error/InvalidArgumentError';\n\n/**\n * Provides access to information about a callMessage, including the call\n * message content, contentType, messageType, and voiceEventSid\n *\n * @public\n */\nexport class CallMessage extends EventEmitter {\n  /**\n   * The content of the message which should match the contentType parameter.\n   */\n  private _content: any;\n\n  /**\n   * The MIME type of the content.\n   */\n  private _contentType: CallMessage.ContentType;\n\n  /**\n   * Message type\n   */\n  private _messageType: CallMessage.MessageType;\n\n  /**\n   * An autogenerated id that uniquely identifies the instance of this message.\n   * This is not required when sending a message from the SDK as this is autogenerated.\n   * But it will be available after the message is sent, or when a message is received.\n   */\n  private _voiceEventSid?: string;\n\n  /**\n   * Constructor for the {@link (CallMessage:class) | CallMessage class}. This should\n   * not be invoked by third-party code.\n   *\n   * @param NativeCallMessageInfo - An object containing all of the data from the\n   * native layer necessary to fully describe a callMessage, as well as invoke native\n   * functionality for the callMessage.\n   *\n   * @internal\n   */\n  constructor({\n    content,\n    contentType,\n    messageType,\n    voiceEventSid,\n  }: NativeCallMessageInfo) {\n    super();\n\n    if (typeof content === 'undefined' || content === null) {\n      throw new InvalidArgumentError('\"content\" is empty');\n    }\n\n    if (!(contentType in CallMessage.ContentType)) {\n      throw new InvalidArgumentError(\n        '\"contentType\" must be valid enum of CallMessage.ContentType'\n      );\n    }\n\n    if (!(messageType in CallMessage.MessageType)) {\n      throw new InvalidArgumentError(\n        '\"messageType\" must be valid enum of CallMessage.MessageType'\n      );\n    }\n\n    this._content = content;\n    this._contentType = contentType;\n    this._messageType = messageType;\n    this._voiceEventSid = voiceEventSid;\n  }\n\n  /**\n   * Get the content body of the message.\n   * @returns\n   * - A string representing the content body of the message.\n   */\n  getContent(): any {\n    return this._content;\n  }\n\n  /**\n   * Get the MIME type for the message.\n   * @returns\n   * - A {@link (CallMessage:namespace).ContentType}.\n   */\n  getContentType(): CallMessage.ContentType {\n    return this._contentType;\n  }\n\n  /**\n   * Get the message type.\n   * @returns\n   * - A {@link (CallMessage:namespace).MessageType}.\n   */\n  getMessageType(): CallMessage.MessageType {\n    return this._messageType;\n  }\n\n  /**\n   * Get the message SID.\n   * @returns\n   * - A string representing the message SID.\n   * - `undefined` if the call information has not yet been received from the\n   *   native layer.\n   */\n  getSid(): string | undefined {\n    return this._voiceEventSid;\n  }\n}\n\n/**\n * Namespace for enumerations and types used by\n * {@link (CallMessage:class) | CallMessage objects}.\n *\n * @remarks\n *  - See also the {@link (CallMessage:class) | CallMessage class}.\n *\n * @public\n */\nexport namespace CallMessage {\n  export enum MessageType {\n    'UserDefinedMessage' = Constants.UserDefinedMessage,\n  }\n\n  export enum ContentType {\n    'ApplicationJson' = Constants.ApplicationJson,\n  }\n}\n"],"mappings":"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"}